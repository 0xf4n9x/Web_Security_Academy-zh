---
description: '原文链接：https://portswigger.net/web-security/authentication'
---

# 身份验证漏洞

至少从概念上讲，身份验证漏洞是一些最容易理解的问题，可以理解。然而，由于认证和安全之间的明显关系，它们可能是最关键的问题之一。除了可能允许攻击者直接访问敏感数据和功能外，它们还暴露了额外的攻击面，以便进一步利用。因此，学习如何识别和利用认证漏洞，包括如何绕过常见的保护措施，是一项基本技能。

在本节中，我们将查看网站使用的一些最常见的认证机制，并讨论其中的潜在漏洞。我们将着重介绍不同认证机制的固有漏洞，以及一些因实施不当而引入的典型漏洞。最后，我们将提供一些基本的指导，告诉大家如何确保自己的认证机制尽可能的强大。

![](../../.gitbook/assets/password-reset-poisoning.svg)

一如既往，我们为您创建了一些互动实验室，以练习利用其中的一些漏洞。如果你已经熟悉这个主题，你可以直接跳进实验室来测试你的技能。

{% hint style="warning" %}
实验：[认证实验](https://portswigger.net/web-security/all-labs#authentication)
{% endhint %}

### 什么是认证？

认证是核实特定用户或客户的身份的过程。换句话说，它涉及到确保他们真的是他们声称的人。至少在某种程度上，网站在设计上是暴露在任何连接到互联网的人面前的。因此，强大的认证机制是有效网络安全的一个组成部分。

有三种认证因素，可将不同类型的认证分为三种。

* 你 **所知道的** 东西，如密码或安全问题的答案。这些有时被称为"知识因素"。
* 你 **所拥有的** 东西，即手机或安全令牌等实物。这些有时被称为"占有因素"。
* 你 **是什么人** 或做什么事，例如，你的生物特征或行为模式。这些有时被称为"固有因素"。

认证机制依靠一系列技术来验证其中的一个或多个因素。

### 认证和授权有什么区别？

认证是验证用户是否真的 **是他们声称的那个人的** 过程，而授权则是验证用户是否 **被允许做某事** 。

在网站或网络应用的上下文中，身份验证决定了试图使用Carlos123用户名访问网站的人是否真的是创建该账户的同一个人。

一旦Carlos123通过认证，他的权限就决定了他是否被授权，例如，他可以访问其他用户的个人信息，或者执行删除其他用户的账户等操作。

### 认证漏洞是如何产生的？

广义上讲，认证机制中的大多数漏洞都是通过两种方式之一产生的。

* 认证机制很弱，因为它们不能充分防止蛮力攻击。
* 在实施过程中存在逻辑缺陷或编码不良，允许攻击者完全绕过认证机制。这有时被称为"破损的认证"。

在网站开发的许多领域，[逻辑缺陷](https://portswigger.net/web-security/logic-flaws)将简单地导致网站的行为出乎意料，这可能是或不是一个安全问题。然而，由于认证对安全至关重要，有缺陷的认证逻辑使网站暴露于安全问题的可能性明显提高。

### 认证漏洞有什么影响？

认证漏洞的影响可能非常严重。一旦攻击者绕过身份验证或强行进入另一个用户的账户，他们就可以访问被入侵账户的所有数据和功能。如果他们能够入侵一个高权限账户，例如系统管理员，他们就可以完全控制整个应用程序，并有可能访问内部基础设施。

即使入侵一个低权限的账户，也可能让攻击者访问他们不应该访问的数据，例如商业敏感的商业信息。即使该账户没有访问任何敏感数据，它仍然可能允许攻击者访问额外的页面，从而提供进一步的攻击面。通常情况下，某些高严重度的攻击不可能从公开访问的页面进行，但可能从内部页面进行。

### 认证机制的漏洞

一个网站的认证系统通常由几个不同的机制组成，在这些机制中可能会出现漏洞。有些漏洞广泛适用于所有这些情况，而其他漏洞则更多地针对所提供的功能。

我们将在以下几个方面更仔细地研究一些最常见的漏洞。

* [基于密码登陆中的漏洞](https://portswigger.net/web-security/authentication/password-based) `LABS`
* [多因素认证中的漏洞](https://portswigger.net/web-security/authentication/multi-factor) `LABS`
* [其他认证机制中的漏洞](https://portswigger.net/web-security/authentication/other-mechanisms) `LABS`

请注意，有几个实验室需要你列举用户名和强制密码。为了帮助你完成这个过程，我们提供了一个候选[用户名](https://portswigger.net/web-security/authentication/auth-lab-usernames)和[密码](https://portswigger.net/web-security/authentication/auth-lab-passwords)的短名单，你应该用它们来解决实验室的问题。

### 第三方认证机制中的漏洞

如果你喜欢黑客认证机制，在完成我们的主认证实验室后，更多的高级用户可能会想尝试并解决我们的OAuth认证实验室。



### 防止对自己的认证机制的攻击

我们已经展示了几种网站由于如何实现认证而变得脆弱的方式。为了减少你自己的网站受到这种攻击的风险，有几个一般原则是你应该始终努力遵循的。





